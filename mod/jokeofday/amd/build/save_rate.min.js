define("mod_jokeofday/save_rate",["jquery","core/ajax"],(function($,Ajax){let ACTIONS_RATING='[data-action="rating"]',SERVICES_RATING="mod_jokeofday_save_rating";function Joke(region,id){console.log("Entra por constructor",id),this.node=$(region),this.id=id,console.log("Joke ID:",this.id),this.text=this.node.find(".card-text").text(),this.node.find(ACTIONS_RATING+'[data-id="'+id+'"]').on("change",this.changeRating.bind(this))}return Joke.prototype.changeRating=function(e){let rating=$(e.currentTarget).val();console.log("Rating:",rating),console.log("Joke ID:",this.id);const request={methodname:SERVICES_RATING,args:{rating:rating,jokeid:this.id}};Ajax.call([request])[0].done((function(response){console.log(response),(1==response.status||"error"===response.status)&&alert(response.message)})).fail((function(fail){console.log(fail)}))},Joke.prototype.node=null,{init:function(region,id){return console.log("Iniciamos JS",region,id),new Joke(region,id)}}}));

//# sourceMappingURL=save_rate.min.js.map